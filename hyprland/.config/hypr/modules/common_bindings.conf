# === Window Management ===
bind = $mod, Q, killactive

bind = $mod, F, fullscreen, 0
bind = $mod SHIFT, F, fullscreenstate, 1 0
# bind = $mod SHIFT, F, fullscreen, 0
bind = $mod SHIFT, T, togglefloating

# bind = $mod SHIFT, W, togglegroup
bind = $mod|CTRL, W, togglegroup
bind = $mod, U, lockactivegroup, toggle
bind = $mod, W, changegroupactive  # Cycle through grouped (stacked/tabbed) windows
bind = $mod SHIFT, W, changegroupactive, b  # Cycle through grouped (stacked/tabbed) windows backward
# bind = $mod|CTRL, W, changegroupactive, f  # Cycle through grouped (stacked/tabbed) windows forward
# bind = $mod|CTRL SHIFT, W, changegroupactive, b  # Cycle through grouped (stacked/tabbed) windows backward

# bind = $mainMod ALT, U, moveoutofgroup,
# bind = $mainMod ALT, H, moveintogroup, l
# bind = $mainMod ALT, L, moveintogroup, r
# bind = $mainMod ALT, K, moveintogroup, u
# bind = $mainMod ALT, J, moveintogroup, d

bind = ALT, Tab, cyclenext
bind = ALT|SHIFT, Tab, cyclenext, prev

# === Use OCR to extract text from the screen and copy it to the clipboard ===
bind = $mod SHIFT, Y, exec, grim -g "$(slurp)" /tmp/ocr.png && tesseract /tmp/ocr.png stdout | wl-copy && notify-send -i ~/Pictures/icons/hyprland.icon "Text copied to clipboard"

# === toggle window between transient and normal state ===
# bind = $mod, O, exec, hyprctl dispatch setprop activewindow alpha 0.65; hyprctl dispatch setprop activewindow alphafullscreen 0.65
# bind = $mod, O, exec, hyprctl dispatch tagwindow alpha_0.6
bind = $mod, O, tagwindow, alpha_0.6
# bind = $mod SHIFT, O, exec, hyprctl dispatch tagwindow -alpha_0.6
# bind = $mod SHIFT, O, tagwindow, max


# === Window Movement ===
bind = $mod SHIFT, left, movewindow, l
bind = $mod SHIFT, down, movewindow, d
bind = $mod SHIFT, up, movewindow, u
bind = $mod SHIFT, right, movewindow, r
bind = $mod SHIFT, H, movewindow, l
bind = $mod SHIFT, J, movewindow, d
bind = $mod SHIFT, K, movewindow, u
bind = $mod SHIFT, L, movewindow, r

# === Focus Navigation ===
bind = $mod, left, movefocus, l
bind = $mod, down, movefocus, d
bind = $mod, up, movefocus, u
bind = $mod, right, movefocus, r
bind = $mod, H, movefocus, l
bind = $mod, J, movefocus, d
bind = $mod, K, movefocus, u
bind = $mod, L, movefocus, r

# bind = $mainMod, B, exec , hyprctl keyword decoration:blur:enabled true
bind = $mod, B, exec , ~/toggle_blur.sh
# bind = $mainMod SHIFT, B, exec , hyprctl keyword decoration:blur:enabled false
# hyprland color picker
bind = $mod|CTRL, C, exec, hyprctl kill
bind = $mod SHIFT, C, exec, pkill hyprpicker || hyprpicker | wl-copy

# === Monitor Navigation ===
bind = $mod CTRL, left, focusmonitor, l
bind = $mod CTRL, right, focusmonitor, r
bind = $mod CTRL, H, focusmonitor, l
bind = $mod CTRL, J, focusmonitor, d
bind = $mod CTRL, K, focusmonitor, u
bind = $mod CTRL, L, focusmonitor, r

# === Move to Monitor ===
bind = $mod SHIFT CTRL, left, movewindow, mon:l
bind = $mod SHIFT CTRL, down, movewindow, mon:d
bind = $mod SHIFT CTRL, up, movewindow, mon:u
bind = $mod SHIFT CTRL, right, movewindow, mon:r
bind = $mod SHIFT CTRL, H, movewindow, mon:l
bind = $mod SHIFT CTRL, J, movewindow, mon:d
bind = $mod SHIFT CTRL, K, movewindow, mon:u
bind = $mod SHIFT CTRL, L, movewindow, mon:r

# === Screenshots ===
bind = , XF86Launch1, exec, grimblast copy area
bind = CTRL, XF86Launch1, exec, grimblast copy screen
bind = ALT, XF86Launch1, exec, grimblast copy active
bind = , Print, exec, grimblast copy area
bind = CTRL, Print, exec, grimblast copy screen
bind = ALT, Print, exec, grimblast copy active
bind = $mod SHIFT, S, exec, flameshot gui
bind = $mod , X, exec, pkill -SIGUSR1 wayscriber || wayscriber --active

bind = $mod SHIFT, X, exec, wayscriber --active

# === System Controls ===
bind = $mod SHIFT, P, dpms, off
bind = $mod|CTRL, P, exec, systemctl suspend || loginctl suspend
bind = $mod|CTRL SHIFT, P, exec, wlogout


# === Column Management ===
bind = $mod, bracketleft, layoutmsg, preselect l
bind = $mod, bracketright, layoutmsg, preselect r

# === Sizing & Layout ===
bind = $mod, R, layoutmsg, togglesplit
bind = $mod CTRL, F, resizeactive, exact 100%

# === Move/resize windows with mainMod + LMB/RMB and dragging ===
bindmd = $mod, mouse:272, Move window, movewindow
bindmd = $mod, mouse:273, Resize window, resizewindow

# === Move/resize windows with mainMod + LMB/RMB and dragging ===
bindd = $mod, code:20, Expand window left, resizeactive, -100 0
bindd = $mod, code:21, Shrink window left, resizeactive, 100 0

# === zoom in/out ===
binde = $mod, minus, exec, hyprctl getoption cursor:zoom_factor | grep float | awk '{if($2!=1) system("hyprctl keyword cursor:zoom_factor " $2 - 0.1) }' # && hyprctl getoption cursor:zoom_factor | grep float | awk '{print $2}' | xargs notify-send -t 1000

binde = $mod, equal, exec, hyprctl getoption cursor:zoom_factor | grep float | awk '{ system("hyprctl keyword cursor:zoom_factor " $2 + 0.1) }' # && hyprctl getoption cursor:zoom_factor | grep float | awk '{print $2}' | xargs notify-send -t 1000
binde = $mod Shift, equal, exec, hyprctl keyword cursor:zoom_factor 1.0
bind = $mod, mouse_up, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '.float * 1.1')
bind = $mod, mouse_down, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '(.float * 0.9) | if . < 1 then 1 else . end')

# bind = SUPER|ALT|CTRL, E, exec, [workspace 1 silent; float] /home/mdmmj/projects/c_Projects/sdl/test/test
bind = $mod, T, exec, $terminal
bind = $mod|ALT, space, exec, dms ipc call spotlight toggle
bind = $mod|ALT SHIFT, space, exec, $menu
bind = $mod, space, exec, nc -U /run/user/1000/walker/walker.sock
# bind = $mod, space, exec, walker
bind = $mod SHIFT, space, exec, krunner
bind = , F12, pass, class:^(com\.obsproject\.Studio)$
bind = $mod, V, exec, copyq toggle
bind = $mod SHIFT, V, exec, dms ipc call clipboard toggle
bind = $mod, E, exec, $fileManager
bind = $mod, M, exec, dms ipc call processlist toggle
bind = $mod, comma, exec, dms ipc call settings toggle
bind = $mod, N, exec, dms ipc call notifications toggle
bind = $mod SHIFT, N, exec, dms ipc call notepad toggle
bind = SUPER|CTRL, V, exec, voxtype record start
bindr = SUPER|CTRL, V, exec, voxtype record stop




# === Column Navigation ===
bind = $mod, Home, focuswindow, first
bind = $mod, End, focuswindow, last

# === Workspace Navigation ===
bind = $mod, S, workspace, m+1
bind = $mod, A, workspace, m-1
bind = $mod, Tab, workspace, previous
# bind = $mod SHIFT, Tab, hyprexpo:expo, toggle
bind = $mod|ALT, O,exec, hyprctl dispatch overview:toggle
bind = $mod, Page_Down, workspace, e+1
bind = $mod, Page_Up, workspace, e-1
bind = $mod, KP_Prior, workspace, e+1
bind = $mod, KP_Next, workspace, e-1
# bind = $mod, U, workspace, e+1
# bind = $mod, I, workspace, e-1
bind = $mod CTRL, down, movetoworkspace, e+1
bind = $mod CTRL, up, movetoworkspace, e-1
bind = $mod CTRL, U, movetoworkspace, e+1
bind = $mod CTRL, I, movetoworkspace, e-1

# === Move Workspaces ===
bind = $mod SHIFT, Page_Down, movetoworkspace, e+1
bind = $mod SHIFT, Page_Up, movetoworkspace, e-1
bind = $mod SHIFT, U, movetoworkspace, e+1
bind = $mod SHIFT, I, movetoworkspace, e-1

# === Mouse Wheel Navigation ===
bind = $mod|ALT, mouse_down, workspace, e+1
bind = $mod|ALT, mouse_up, workspace, e-1
bind = $mod CTRL, mouse_down, movetoworkspace, e+1
bind = $mod CTRL, mouse_up, movetoworkspace, e-1
# === Change Layout ===
bind = SUPER|CTRL, M, layoutmsg, scrolling

# === Function Key Controls ===
# === Audio Controls ===
bindel = , XF86AudioRaiseVolume, exec, dms ipc call audio increment 3
bindel = , XF86AudioLowerVolume, exec, dms ipc call audio decrement 3
bindl = , XF86AudioMute, exec, dms ipc call audio mute
bindl = , XF86AudioMicMute, exec, dms ipc call audio micmute

# === Keyboard Backlight ===
bindel = , XF86KbdBrightnessUp, exec, kbdbrite.sh up
bindel = , XF86KbdBrightnessDown, exec, kbdbrite.sh down

# === Brightness Controls ===
bindel = , XF86MonBrightnessUp, exec, dms ipc call brightness increment 5
bindel = , XF86MonBrightnessDown, exec, dms ipc call brightness decrement 5

# Requires playerctl
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous
# calculator
bindl = , XF86Calculator, exec, qalculate-qt

# === Security ===
source = ./security.conf
